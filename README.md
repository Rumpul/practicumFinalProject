# Итоговое задание по курсу Go разработчик.

## Описание проекта:
Проект представляет собой сервис для планирования задач,который позволяет создавать задачи с
определенной периодичностью, редактировать и удалять выполненные задачи.
Также доступ к задача осуществляется через авторизацию пользователя через пароль и формировании jwt токена.

## Структура проекта:
- В директории `handlers` находятся обработчики реализованного API веб-сервера.
- В директории `jwt` находится функционал формирования и проверки jwt токена.
- В директории `middleware` находится функционал проверки авторизации пользователя.
- В директории `models` находятся описание структур данных для обьектов.
- В директории `db` находится весь функционал работы с БД (создание БД и добавление задач).
- В директории `utils` находится логика формирования следующей даты для задачи.
- Файл docker `Dockerfile` - файл для формирования докер контейнера.
- Директория `web` содержит файлы фронтенда.
- В директории `tests` находятся тесты для проверки API, которое должно быть реализовано в веб-сервере.

## Настройка `.env`:
В файле `.env` задаются значения переменных окружений:
- `TODO_PORT` - порт, на котором запускается приложение. Пример ":8080".
- `TODO_DBFILE` - относительный или абсолютный путь к файлу БД. Пример "db/scheduler.db".
- `TODO_PASSWORD` - пароль для авторизации. Пример "TODO_PASSWORD".
- `SECRET_KEY` - секретный ключь для формирования JWT токена.

## Настройка `tests/settings.go`:
В файле `tests/settings.go` задаются значения для тестов:
- `var Port` - 8080
- `var DBFile` - "../db/scheduler.db"
- `var FullNextDate` - true
- `var Search` - true
- `var Token` - "" - токен для аунтификации

## Команды для запуска приложения:
- `go mod download`
- `go run main.go`

## Команды для запуска тестов:
- `go test ./tests`

## Для очистки кэша перед повторными тестами:
- `go clean -testcache`

## Запуск через Docker:
- Постройте Docker-образ - `docker build -t practicum-final-project`
- Запустите контейнер - `docker run -p 8000:8000 -e SECRET_KEY="@F#SJ;9QgMOAGxY33.0d93r_:;nS:" practicum-final-project`
Приложение будет доступно по адресу http://localhost:8000

## Выполненые задания со звездочкой:
- Определение порта сервера из файла `.env` - `TODO_PORT`.
- Определение пути к файлу БД из файла `.env` - `TODO_DBFILE`.
- Поиск задачи через строку поиска.
- Подключена аутентификация и дальнейшая проверка авторизации для доступа к задачам.
- Создан докер файл.